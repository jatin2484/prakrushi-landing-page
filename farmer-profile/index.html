<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Farmer Profile</title>
<body>
  <h2>Farmer Profile</h2>
  <button id="openApp">Open in App</button>

  <script>
    const path = window.location.pathname;
    const match = path.match(/^\/farmer-profile\/(\d+)/);
    const farmerId = match ? match[1] : null;

    document.getElementById("openApp").onclick = () => {
      window.location.href =
        `intent://farmer-profile/${farmerId}` +
        `#Intent;scheme=https;package=com.prakrushi.app;end`;
    };
  </script>
</body>
 <script>
  document.addEventListener("DOMContentLoaded", () => {
    const path = window.location.pathname;

    // Extract ID safely
    const match = path.match(/^\/farmer-profile\/(\d+)/);
    const farmerId = match ? match[1] : null;

    if (!farmerId) return;

    const isAndroid = /Android/i.test(navigator.userAgent);
    const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

    // ðŸš« DO NOTHING on desktop
    if (!isAndroid && !isIOS) {
      console.log("Desktop detected, not opening app");
      return;
    }

    if (isAndroid) {
      window.location.href =
        `intent://farmer-profile/${farmerId}` +
        `#Intent;scheme=https;package=com.prakrushi.app;end`;

      setTimeout(() => {
        window.location.href =
          "https://play.google.com/store/apps/details?id=com.prakrushi.app";
      }, 1500);
    }

    if (isIOS) {
      window.location.href =
        "https://apps.apple.com/app/idYOUR_APP_ID";
    }
  });
</script>
</head>

<body>
  <p>Opening Prakrushi Appâ€¦</p>
</body>
</html>
